%
% Result
%

% !TEX root = ../../main.tex

\chapter{Resultate\label{chap:Resultate}}

  \section{Allgemeine Lösung --- erster Simulationslauf}

    \subsection{Konfiguration\label{sub:confSecond}}

      \begin{table}[H]
        \centering
        \input{tables/simulation-parameters-first-run-no-feedback}
        \caption{Simulationsparameter}
      \end{table}

      Aufgrund der unvollständigen Mutation des Bewegungsablaufs sind die entsprechenden
      Konfigurationen in der Tabelle nicht vorhanden.

    \subsection{Auswertung}

      Es ist ein klarer Aufwärtstrend der Fitness zu erkennen bis etwa zur 1000. Generation~(\vref{fig:graphFirst}).
      Danach ist ein Abfall der Fitness bei den Individuen zu beobachten.
      \\
      Die Vermutung dabei ist,
      dass der Parcours zu schwierig ist und die Individuen mit der grossen Steigung nicht mehr zurechtkommen.
      \\
      Ausreisser sind dadurch zu erklären,
      dass ein bestimmter Parcours sehr einfach für die Individuen zu bewältigen war oder ihnen Schwierigkeiten bereitet hat.
      \\
      In dieser Simulation ist der Bewegungsablauf nur wenig mutiert worden.
      Der Bewegungsablauf gleicht dem Vordefinierten.

      \medskip

      Es wird vermutet, dass des Feedbacksystems der Steuerung hier helfen wird.
      Ausserdem müssen die Parameter des Parcours für die nächste Simulation anders konfiguriert werden.
      Der Steigungszuwachs sollte auf 0.01 limitiert werden und der Zuwachs der höchsten Y-Koordinate
      sollte auf 0.02 gesetzt werden.
      Mit der Herabsetzung dieser Werte werden weniger Mutation durchgeführt und
      die Lösungsmenge nicht zu stark eingegrenzt werden.

      \begin{figure}[H]
        \centering
        \input{graphics/fitness-graph-first-run-no-feedback}
        \caption{Bestes Individuum und durchschnittliches Individuum\label{fig:graphFirst}}
      \end{figure}

      \subsubsection{Körperpunkte\label{subsub:bp}}

        Die Auswertung der Individuen nach der Anzahl ihrer Körperpunkte ist ernüchternd~(\vref{fig:graphBpFirst}).
        Bereits ab der 14. Generation existieren nur noch Individuen mit vier Körperpunkten.
        Einerseits könnte dies auf das fehlende Feedback zurückzuführen sein oder andererseits
        könnten die Individuen in der initialen Population mit mehr als vier Körperpunkten unvorteilhaft generiert worden sein.
        Eine weitere Simulation zeigt,
        ob vier Körperpunkten am geeignetsten sind für die Bewältigung der Problemstellung,
        oder ob es sich um einen ``frozen accident'' handelt.

        \begin{figure}[H]
          \centering
          \input{graphics/fitness-graph-average-body-points-first-run-no-feedback}
          \caption{Durchschnittliches Individuum pro Anzahl Körperpunkte\label{fig:graphBpFirst}}
        \end{figure}

  \section{Allgemeine Lösung --- zweiter Simulationslauf}

    \subsection{Konfiguration}

      \begin{table}[H]
        \centering
        \input{tables/simulation-parameters-second-run-no-feedback.tex}
        \caption{Simulationsparameter}
      \end{table}

      Aufgrund der unvollständigen Mutation des Bewegungsablaufs sind die entsprechenden
      Konfigurationen in der Tabelle nicht vorhanden.
      \\
      Wie in~\vref{sub:confSecond} besprochen wurde die Parameter der Parcoursschwierigkeit angepasst:

      \begin{itemize}
        \item Steigungszuwachs: 0.01
        \item Zuwachs der höchsten Y-Koordinate: 0.02
      \end{itemize}

    \subsection{Auswertung\label{sub:scndAuswertung}}

      Beim zweiten Versuch ist interessant zu beobachten,
      dass die Fitness der Individuen erst ab der 1400\@. Generation~(\vref{fig:graphSecond})
      wieder abzunehmen beginnt.
      Hier ist ebenfalls ein klarer, jedoch nicht gleich deutlich ausgeprägter Abwärtstrend zu erkennen.
      Eine weitere Vermutung, neben dem fehlenden Feedback des Motors, warum die Fitness wieder abzunehmen beginnt,
      ist die zu hohe Wahrscheinlichkeit der Mutation.
      In einem nächsten Versuch muss getestet werden,
      ob niedrigere Mutationswahrscheinlichkeiten einen positiven Effekt auf die langfristige Fitness der Individuen haben.

      \medskip

      Ab ca\@. der 2000\@. Generation beginnt die Fitness wieder rapide zu steigen,
      jedoch ist dies durch einen Fehler der \gls{PhysicsEngine} zu erklären.
      Die Individuen verhaken sich im Boden und beginnen grosse Distanzen durch Hüpfbewegungen zurückzulegen.
      Dieser Fehler kann bereinigt werden indem die Relaxation~(\vref{sub:techParams}) erhöht und
      gleichzeitig der Zeitschritt~(\vref{sub:techParams}) verringert wird.

      \begin{figure}[H]
        \centering
        \input{graphics/fitness-graph-second-run-no-feedback}
        \caption{Bestes Individuum und Durchschnittliches Individuum\label{fig:graphSecond}}
      \end{figure}

      \subsubsection{Körperpunkte\label{subsub:bpScnd}}

        Ein ähnliches Bild ist zu beobachten, wie bei~\vref{subsub:bp}.
        Bereits ab der 9\@. Generation existieren nur noch Individuen mit sieben Körperpunkten~(\vref{fig:graphBpSecond}).
        Es wird angenommen, dass hier ein ``frozen accident'' geschehen ist.
        Damit eine Aussage über den Einfluss der Körperpunkte getroffen werden kann,
        müsste während der ganzen Simulation die Anzahl der Körperpunkte mutiert werden.
        Stattdessen wird momentan zu Beginn der Simulation die Anzahl der Körperpunkte für die Individuen festgelegt.

        \begin{figure}[H]
          \centering
          \input{graphics/fitness-graph-average-body-points-second-run-no-feedback}
          \caption{Durchschnittliches Individuum pro Anzahl Körperpunkte\label{fig:graphBpSecond}}
        \end{figure}

  \section{Allgemeine Lösung --- dritter Simulationslauf}

    \subsection{Konfiguration}

      \begin{table}[H]
        \centering
        \input{tables/simulation-parameters-third-run.tex}
        \caption{Simulationsparameter\label{tbl:thirdRunConf}}
      \end{table}

      Die Implementation des Feedbacks musste wegen mangelnder Zeit eingestellt werden.
      In dieser Version ist die detaillierte Konfiguration der Mutation verfügbar.
      Die Konfigurationstabelle~(\vref{tbl:thirdRunConf}) stellt die erweiterten Einstellungsmöglichkeiten dar.

    \subsection{Auswertung\label{sub:thirdAuswertung}}

      Leider dauert es mit dieser Version der Applikation sehr lange eine Generation zu evolvieren.
      Der Grund dafür ist einerseits die ineffiziente Mutation der Individuen.
      Andererseits ist die Wahrscheinlichkeit eine neue Bewegung hinzuzufügen grösser, als eine Bewegung zu entfernen.
      Die Datenstrukturen wachsen, da mehr Bewegungen hinzukommen als entfernt werden,
      was wiederum den Rechenaufwand erhöht.
      \\
      Darum wird dieser Versuch nach ca. 1200 Generationen abgebrochen,
      damit Verbesserungen an der Geschwindigkeit der Mutation implementiert werden können und
      die Wahrscheinlichkeit anders konfiguriert werden kann.

      \medskip

      Die Individuen haben bei diesem Versuch eine Art rollende Bewegung entwickelt.
      Sie können die guten Fitnesswerte halten,
      obwohl der Parcours schwerer wird~(\vref{fig:graphThird}).

      \begin{figure}[H]
        \centering
        \input{graphics/fitness-graph-third-run}
        \caption{Bestes Individuum und durchschnittliches Individuum\label{fig:graphThird}}
      \end{figure}

      \subsubsection{Diversität}

        In dieser Version der Simulation ist der Diversitätsreport verfügbar.
        \\
        Wie in~\vref{fig:graphDivThird} zu sehen ist, bewegt sich die Diversität kurz auf einem hohen Niveau,
        da am Anfang alles zufällig generiert wird.
        Die Turnierselektion bevorzugt Individuen mit einer grossen Fitness,
        deshalb sinkt die Diversität nach der Selektion.
        Darum ist kurz nach Beginn der Simulation ein starker Abfall der Diversität zu beobachten.
        \\
        Interessant zu beobachten ist, dass die Diversität ab der 400. Generation wieder zu steigen beginnt.
        Die Vermutung dabei ist, dass sich mehr verschiedene Individuen mit einer guten Fitness finden lassen.

        \begin{figure}[H]
          \centering
          \input{graphics/diversity-graph-third-run}
          \caption{Diversität pro Generation\label{fig:graphDivThird}}
        \end{figure}

  \section{Allgemeine Lösung --- vierter Simulationslauf\label{sec:4lauf}}

    \subsection{Konfiguration}

      \begin{table}[H]
        \centering
        \input{tables/simulation-parameters-forth-run.tex}
        \caption{Simulationsparameter\label{tbl:forthRunConf}}
      \end{table}

      Wie beabsichtig in~\vref{sub:thirdAuswertung},
      wurde die Wahrscheinlichkeit Bewegungen hinzuzufügen oder zu entfernen gleichgesetzt.
      Dies sollte verhindern, dass die Datenstrukturen durch die hinzukommenden Bewegungen zu gross werden
      und den benötigten Rechenaufwand in die Höhe treiben.

    \subsection{Auswertung}

      \begin{figure}[H]
        \centering
        \input{graphics/fitness-graph-fourth-run}
        \caption{Bestes Individuum und durchschnittliches Individuum\label{fig:graphFourth}}
      \end{figure}

      \subsubsection{200. Generation}

        Wie in~\vref{fig:gen200} erkennbar, haben sich die Individuen zu einer Art Rolle entwickelt.
        Diese Art von Fortbewegung ist nicht optimal,
        da sich die Individuen genau einmal um sich selber drehen und dann zum Stillstand kommen.
        Dies setzt sich fort bis etwa zur 3000. Generation.

        \vspace{0.5cm}

        \begin{figure}[H]
          \centering
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen200_1}
            \caption{\label{fig:gen200_1}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen200_2}
            \caption{\label{fig:gen200_2}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen200_3}
            \caption{\label{fig:gen200_3}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen200_4}
            \caption{\label{fig:gen200_4}}
          \end{subfigure}
          \caption{200. Generation\label{fig:gen200}}
        \end{figure}

      \subsubsection{3000. Generation\label{subsub:3000gen}}

        Ab der 3000. Generation haben die Individuen eine Hüpf-Bewegung entwickelt.
        Sie fixieren alle Beine ausser eines, welches sie benutzen um sich vom Boden abzustossen~(\vref{fig:gen3000}).
        Diese Art von Fortbewegung bringt eine bessere Fitness hervor, wie in~\vref{fig:graphFourth} erkennbar ist.
        Im Gegensatz zu den Individuen in~\vref{sub:scndAuswertung} ist dies jedoch eine valide Hüpfbewegung.
        Da die Individuen sich vom Boden korrekt mit einem Bein abstossen,
        sich nicht im Boden verhaken und nicht durch die zu späte und fehlerhafte Kollisionserkennung weggestossen werden.

        \medskip

        Das Herabsetzten der Mutationswahrscheinlichkeiten~(Hypothese in~\vref{subsub:hypoMut})
        hat langfristig einen positiven Effekt auf die Fitness,
        wie in~\vref{fig:graphFourth} im Vergleich zu~\vref{fig:graphFirst} erkennbar ist.

        \vspace{0.5cm}

        \begin{figure}[H]
          \centering
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen3000_1}
            \caption{\label{fig:gen3000_1}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen3000_2}
            \caption{\label{fig:gen3000_2}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen3000_3}
            \caption{\label{fig:gen3000_3}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen3000_4}
            \caption{\label{fig:gen3000_4}}
          \end{subfigure}
          \caption{3000. Generation\label{fig:gen3000}}
        \end{figure}

      \subsubsection{7000. Generation}

        Mit zunehmender Schwierigkeit des Parcours scheint das Hüpfen nicht mehr die richtige Art von Fortbewegung zu sein.
        Die Individuen bleiben häufig an Berghängen und in Tälern stecken~(\vref{fig:gen7000}).

        \vspace{0.5cm}

        \begin{figure}[H]
          \centering
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen7000_1}
            \caption{\label{fig:gen7000_1}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen7000_2}
            \caption{\label{fig:gen7000_2}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen7000_3}
            \caption{\label{fig:gen7000_3}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen7000_4}
            \caption{\label{fig:gen7000_4}}
          \end{subfigure}
          \caption{7000. Generation\label{fig:gen7000}}
        \end{figure}

      \subsubsection{11000. Generation}

        Die Individuen haben sich zu Rudern entwickelt wie in~\vref{fig:gen11000} zu sehen ist.
        Die Masse der anderen Beinpaare, welche nicht für die Ruderbewegung gebraucht werden,
        ist sichtbar kleiner geworden.
        \\
        Bei der Analyse dieser Generation ist ein Fehler aufgefallen.
        Die Individuen werden nach vier Sekunden entfernt,
        wenn sie sich währenddessen nicht um einen bestimmten Wert vorwärtsbewegen.
        Dieser Wert sollte allerdings grösser gewählt werden,
        da es in späteren Generationen und zunehmender Parcours-Schwierigkeit sein kann,
        dass die Individuen sich lange an einer Stelle aufhalten, um einen Berg zu erklimmen.

        \begin{figure}[H]
          \centering
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen11000_1}
            \caption{\label{fig:gen11000_1}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen11000_2}
            \caption{\label{fig:gen11000_2}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen11000_3}
            \caption{\label{fig:gen11000_3}}
          \end{subfigure}
          \begin{subfigure}[b]{0.45\textwidth}
            \includegraphics[width=\linewidth,center]{graphics/simulation-results/4_gen11000_4}
            \caption{\label{fig:gen11000_4}}
          \end{subfigure}
          \caption{11000. Generation\label{fig:gen11000}}
        \end{figure}

      \subsubsection{Diversität}

        Der Einbruch ab ca.\ der 3000. Generation, lässt sich damit erklären, dass die Hüpfer gefunden worden sind.
        Die Diversität konnte sich steigern im Vergleich zum Anfang der Simulation und
        spricht für die Turnierselektion.

        \begin{figure}[H]
          \centering
          \input{graphics/diversity-graph-fourth-run}
          \caption{Diversität pro Generation\label{fig:graphDivFourth}}
        \end{figure}

  \section{Evolvieren auf Evolvierbarkeit --- fünfter Simulationslauf\label{sec:5lauf}}

    \subsection{Konfiguration}

      \begin{table}[H]
        \centering
        \input{tables/simulation-parameters-fifth-run.tex}
        \caption{Simulationsparameter}
      \end{table}

      Das Ziel dieser Simulation ist das Evolvieren auf Evolvierbarkeit,
      um einen Vergleich zur allgemeinen Lösung zu ziehen.
      Darum wurde das Ziel der Konfiguration modifiziert, um das Evolvieren auf Evolvierbarkeit zu erreichen.

    \subsection{Auswertung\label{sub:fifthAuswertung}}

      Der Graph in~\vref{fig:graphFifth} schlägt weniger aus im Vergleich zu~\vref{fig:graphFourth}.
      Dies ist damit zu erklären, dass beim Evolvieren auf Evolvierbarkeit,
      der Parcours erst nach 100 Generationen ausgewechselt wird und
      somit die Fitnesswerte weniger schwanken pro Generation.
      Wenn der Parcours gewechselt wird, treten Ausreisser (lokale Minima und Maxima) auf.
      Die gefundenen Individuen bewegen sich mit Hüpfen fort.

      \begin{figure}[H]
        \centering
        \scalebox{.95}{\input{graphics/fitness-graph-fifth-run}}
        \caption{Bestes Individuum und durchschnittliches Individuum\label{fig:graphFifth}}
      \end{figure}

      \subsubsection{Diversität}

        Die Diversität~(\vref{fig:graphDivFifth}) ist im Vergleich zum
        vierten Simulationslauf~(\vref{fig:graphDivFourth}) deutlich niedriger.
        Die allgemeine Lösung erlaubt es diversere Individuen zu finden.

        \begin{figure}[H]
          \centering
          \scalebox{.95}{\input{graphics/diversity-graph-fifth-run}}
          \caption{Diversität pro Generation\label{fig:graphDivFifth}}
        \end{figure}
